!function(){"use strict";var t=function(t,e){var n=t.match(/[a-z_-]+/gi),i=null;if(!n)throw new Error("Incorrect URL: "+t);i=n.join("-");var a=document.getElementById(i);if(!a){var r=document.createElement("script");r.src=t,r.id=i,document.body.appendChild(r),r.onload=function(){e&&e()},r.onerror=function(){throw new Error("Connection failed: "+t)}}a&&e&&e()};t("https://unpkg.com/@webcomponents/webcomponentsjs@2.2.10/webcomponents-bundle.js",function(){t("https://unpkg.com/@webcomponents/webcomponentsjs@2.2.10/custom-elements-es5-adapter.js",function(){var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var n=function(t){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));t._url_image="https://unpkg.com/enferlazt-clock/dist/img/enferlazt-";var e={analog:[1,2,3],digital:[1]},i=t.getAttribute("type"),a=t.getAttribute("variation")||1;if(!e[i]||!e[i].includes(+a))throw new Error('Incorrect type "'+i+'" or variation "'+a+'"!');switch(i){case"analog":t.createType.analog.call(t,a);break;case"digital":t.createType.digital.call(t,a)}return(t.getAttribute("title")||"true"==t.getAttribute("map"))&&t._getCaption({titleText:t.getAttribute("title"),fullLocation:t.getAttribute("location")}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,HTMLElement),e(n,[{key:"_getCaption",value:function(t){var e,n=t.titleText,i=t.fullLocation,a=n||(e=(e=(e=i.match(/[^\/][a-z_]+$/gi))[0].replace(/_/g," "))[0].toUpperCase()+e.substring(1)),r=document.createElement("p");r.className="enferlazt-caption",r.innerHTML=a,this.appendChild(r),"true"==this.getAttribute("map")&&this._getMap(r,i)}},{key:"_getMap",value:function(t,e){var n=document.createElement("iframe");n.className="enferlazt-iframe",n.frameBorder="",n.src="https://maps.google.com/maps?&width=170&amp;&height=170&amp;&hl=en&amp;&q="+e+"&amp;&ie=UTF8&amp;&t=&amp;&z=3&amp;&iwloc=B&amp;&output=embed",this.appendChild(n),t.addEventListener("click",function(){return n.style.display="none"==getComputedStyle(n).display?"block":"none"})}},{key:"createType",get:function(){return{analog:function(t){var e=document.createElement("img");e.className="enferlazt-background",e.src=this.getAttribute("bgImg")||this._url_image+"analog-"+t+".png",this.appendChild(e),this.createNesting.analog.call(this,{classTitle:"hours",srcImage:this.getAttribute("hourImg")||this._url_image+"hour-"+t+".png"}),this.createNesting.analog.call(this,{classTitle:"minutes",srcImage:this.getAttribute("minImg")||this._url_image+"min-"+t+".png"}),this.createNesting.analog.call(this,{classTitle:"seconds",srcImage:this.getAttribute("secImg")||this._url_image+"sec-"+t+".png"}),this.nextStep.analog.call(this),setInterval(this.nextStep.analog.bind(this),1e3)},digital:function(t){var e=document.createElement("img");e.className="enferlazt-background",e.src=this._url_image+"digital-"+t+".png",this.appendChild(e);var n=document.createElement("div");n.className="enferlazt-digital",this.appendChild(n),this.createNesting.digital.call(n,{classTitle:"hours"}),this.createNesting.digital.call(n,{classTitle:"delimiter"}),n.children[1].innerHTML=":",this.createNesting.digital.call(n,{classTitle:"minutes"}),this.createNesting.digital.call(n,{classTitle:"seconds"}),this.nextStep.digital.call(this,n),setInterval(this.nextStep.digital.bind(this,n),1e3)}}}},{key:"createNesting",get:function(){return{analog:function(t){var e=t.classTitle,n=t.srcImage,i=document.createElement("div");i.className="enferlazt-"+e,this.appendChild(i);var a=document.createElement("img");a.className="enferlazt-"+e+"-img",a.src=n,i.appendChild(a)},digital:function(t){var e=t.classTitle,n=document.createElement("span");n.className="enferlazt-"+e,this.appendChild(n)}}}},{key:"nextStep",get:function(){return{analog:function(){var t=moment().tz(this.getAttribute("location")),e=6*t.format("ss"),n=6*(+t.format("mm")+1/60*t.format("ss")),i=30*(+t.format("HH")+1/60*t.format("mm")),a=this.children[3].children[0];this.children[3].replaceChild(a,this.children[3].children[0]),this.children[1].style.webkitTransform="rotateZ("+i+"deg)",this.children[2].style.webkitTransform="rotateZ("+n+"deg)",this.children[3].style.webkitTransform="rotateZ("+e+"deg)",this.children[1].style.transform="rotateZ("+i+"deg)",this.children[2].style.transform="rotateZ("+n+"deg)",this.children[3].style.transform="rotateZ("+e+"deg)"},digital:function(t){var e=moment().tz(this.getAttribute("location"));t.children[0].innerHTML=e.format("HH"),t.children[2].innerHTML=e.format("mm"),t.children[3].innerHTML=e.format("ss")}}}}],[{key:"observedAttributes",get:function(){return["location","type","variation","map","title","bgImage","hourImg","minImg","secImg"]}}]),n}();t("http://momentjs.com/downloads/moment.js",function(){t("http://momentjs.com/downloads/moment-timezone-with-data.js",function(){customElements.define("enferlazt-clock",n)})})})})}();